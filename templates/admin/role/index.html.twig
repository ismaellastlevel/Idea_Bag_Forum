{% extends 'base.html.twig' %}

{% block title %}{% trans %}Roles{% endtrans %}{% endblock %}

{% block body %}
    <div class="col-md-8 mx-auto">
        <div id="message"></div>
        <button type="button" class="btn btn-outline-secondary mb-3" data-toggle="modal" data-target="#manageModal">{% trans %}Add new role{% endtrans %}</button>
        {% if roles %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">{% trans %}Coded{% endtrans %}</th>
                    <th scope="col">{% trans %}Label{% endtrans %}</th>
                    <th scope="col">{% trans %}Description{% endtrans %}</th>
                    <th scope="col">{% trans %}Action{% endtrans %}</th>
                </tr>
                </thead>
                <tbody>
                    {% for role in roles %}
                        <tr>
                            <td>{{ role.id }}</td>
                            <td>{{ role.code }}</td>
                            <td>{{ role.label }}</td>
                            <td>{{ role.description }}</td>
                            <td>
                                <a href="javascript:void(0);" class="edit" data-id="{{ role.id }}">{% trans %}Edit{% endtrans %}</a>
                                <a href="javascript:void(0);" class="delete" data-id="{{ role.id }}">{% trans %}Delete{% endtrans %}</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <div class="alert alert-warning" role="alert">
                {% trans %}There is no role yet{% endtrans %}
            </div>
        {% endif %}
    </div>
    {% include 'partials/modals/manage_modal.html.twig' %}
    {% include 'partials/modals/delete_modal.html.twig' %}
{% endblock %}

{% block specific_javascripts %}
    <script>
        const showUrl = "{{ path('admin_role_fetch', {id: "__ID__"}) }}";
        const deleteId = "{{ path('admin_role_delete', {id: "__ID__"}) }}";
    </script>
    <script src="{{ asset('build/js/json_form_utils.js') }}"></script>
{% endblock %}